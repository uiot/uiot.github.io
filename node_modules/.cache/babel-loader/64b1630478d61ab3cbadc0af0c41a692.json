{"remainingRequest":"/home/prado/uiot/novosite/node_modules/babel-loader/lib/index.js!/home/prado/uiot/novosite/node_modules/vuetify/lib/services/lang/index.js","dependencies":[{"path":"/home/prado/uiot/novosite/node_modules/vuetify/lib/services/lang/index.js","mtime":1578164113111},{"path":"/home/prado/uiot/novosite/node_modules/cache-loader/dist/cjs.js","mtime":1578164112495},{"path":"/home/prado/uiot/novosite/node_modules/babel-loader/lib/index.js","mtime":1578164112475}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3RhcnRzLXdpdGgiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9ob21lL3ByYWRvL3Vpb3Qvbm92b3NpdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvaG9tZS9wcmFkby91aW90L25vdm9zaXRlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICIvaG9tZS9wcmFkby91aW90L25vdm9zaXRlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjsKaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tICIvaG9tZS9wcmFkby91aW90L25vdm9zaXRlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9nZXRQcm90b3R5cGVPZiI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL2hvbWUvcHJhZG8vdWlvdC9ub3Zvc2l0ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwovLyBFeHRlbnNpb25zCmltcG9ydCB7IFNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlJzsgLy8gTGFuZ3VhZ2UKCmltcG9ydCBlbiBmcm9tICcuLi8uLi9sb2NhbGUvZW4nOyAvLyBVdGlsaXRpZXMKCmltcG9ydCB7IGdldE9iamVjdFZhbHVlQnlQYXRoIH0gZnJvbSAnLi4vLi4vdXRpbC9oZWxwZXJzJzsKaW1wb3J0IHsgY29uc29sZUVycm9yLCBjb25zb2xlV2FybiB9IGZyb20gJy4uLy4uL3V0aWwvY29uc29sZSc7CnZhciBMQU5HX1BSRUZJWCA9ICckdnVldGlmeS4nOwp2YXIgZmFsbGJhY2sgPSBTeW1ib2woJ0xhbmcgZmFsbGJhY2snKTsKCmZ1bmN0aW9uIGdldFRyYW5zbGF0aW9uKGxvY2FsZSwga2V5KSB7CiAgdmFyIHVzaW5nRmFsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlOwogIHZhciBzaG9ydEtleSA9IGtleS5yZXBsYWNlKExBTkdfUFJFRklYLCAnJyk7CiAgdmFyIHRyYW5zbGF0aW9uID0gZ2V0T2JqZWN0VmFsdWVCeVBhdGgobG9jYWxlLCBzaG9ydEtleSwgZmFsbGJhY2spOwoKICBpZiAodHJhbnNsYXRpb24gPT09IGZhbGxiYWNrKSB7CiAgICBpZiAodXNpbmdGYWxsYmFjaykgewogICAgICBjb25zb2xlRXJyb3IoIlRyYW5zbGF0aW9uIGtleSBcIiIuY29uY2F0KHNob3J0S2V5LCAiXCIgbm90IGZvdW5kIGluIGZhbGxiYWNrIikpOwogICAgICB0cmFuc2xhdGlvbiA9IGtleTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbnNvbGVXYXJuKCJUcmFuc2xhdGlvbiBrZXkgXCIiLmNvbmNhdChzaG9ydEtleSwgIlwiIG5vdCBmb3VuZCwgZmFsbGluZyBiYWNrIHRvIGRlZmF1bHQiKSk7CiAgICAgIHRyYW5zbGF0aW9uID0gZ2V0VHJhbnNsYXRpb24oZW4sIGtleSwgdHJ1ZSk7CiAgICB9CiAgfQoKICByZXR1cm4gdHJhbnNsYXRpb247Cn0KCmV4cG9ydCB2YXIgTGFuZyA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKF9TZXJ2aWNlKSB7CiAgX2luaGVyaXRzKExhbmcsIF9TZXJ2aWNlKTsKCiAgZnVuY3Rpb24gTGFuZygpIHsKICAgIHZhciBfdGhpczsKCiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExhbmcpOwoKICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKExhbmcpLmNhbGwodGhpcykpOwogICAgX3RoaXMuY3VycmVudCA9IG9wdGlvbnMuY3VycmVudCB8fCAnZW4nOwogICAgX3RoaXMubG9jYWxlcyA9IE9iamVjdC5hc3NpZ24oewogICAgICBlbjogZW4KICAgIH0sIG9wdGlvbnMubG9jYWxlcyk7CiAgICBfdGhpcy50cmFuc2xhdG9yID0gb3B0aW9ucy50OwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKExhbmcsIFt7CiAgICBrZXk6ICJ0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0KGtleSkgewogICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcGFyYW1zID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgICBwYXJhbXNbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldOwogICAgICB9CgogICAgICBpZiAoIWtleS5zdGFydHNXaXRoKExBTkdfUFJFRklYKSkgcmV0dXJuIHRoaXMucmVwbGFjZShrZXksIHBhcmFtcyk7CiAgICAgIGlmICh0aGlzLnRyYW5zbGF0b3IpIHJldHVybiB0aGlzLnRyYW5zbGF0b3IuYXBwbHkodGhpcywgW2tleV0uY29uY2F0KHBhcmFtcykpOwogICAgICB2YXIgdHJhbnNsYXRpb24gPSBnZXRUcmFuc2xhdGlvbih0aGlzLmxvY2FsZXNbdGhpcy5jdXJyZW50XSwga2V5KTsKICAgICAgcmV0dXJuIHRoaXMucmVwbGFjZSh0cmFuc2xhdGlvbiwgcGFyYW1zKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZXBsYWNlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZXBsYWNlKHN0ciwgcGFyYW1zKSB7CiAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvXHsoXGQrKVx9L2csIGZ1bmN0aW9uIChtYXRjaCwgaW5kZXgpIHsKICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLwogICAgICAgIHJldHVybiBTdHJpbmcocGFyYW1zWytpbmRleF0pOwogICAgICB9KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBMYW5nOwp9KFNlcnZpY2UpOwpMYW5nLnByb3BlcnR5ID0gJ2xhbmcnOw=="},{"version":3,"sources":["../../../src/services/lang/index.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AACA,SAAA,OAAA,QAAA,YAAA,C,CAEA;;AACA,OAAA,EAAA,MAAA,iBAAA,C,CAEA;;AACA,SAAA,oBAAA,QAAA,oBAAA;AACA,SAAA,YAAA,EAAA,WAAA,QAAA,oBAAA;AAQA,IAAM,WAAW,GAAjB,WAAA;AACA,IAAM,QAAQ,GAAG,MAAM,CAAvB,eAAuB,CAAvB;;AAEA,SAAA,cAAA,CAAA,MAAA,EAAA,GAAA,EAGuB;AAAA,MAArB,aAAqB,uEAHvB,KAGuB;AAErB,MAAM,QAAQ,GAAG,GAAG,CAAH,OAAA,CAAA,WAAA,EAAjB,EAAiB,CAAjB;AACA,MAAI,WAAW,GAAG,oBAAoB,CAAA,MAAA,EAAA,QAAA,EAAtC,QAAsC,CAAtC;;AAEA,MAAI,WAAW,KAAf,QAAA,EAA8B;AAC5B,QAAA,aAAA,EAAmB;AACjB,MAAA,YAAY,6BAAZ,QAAY,8BAAZ;AACA,MAAA,WAAW,GAAX,GAAA;AAFF,KAAA,MAGO;AACL,MAAA,WAAW,6BAAX,QAAW,2CAAX;AACA,MAAA,WAAW,GAAG,cAAc,CAAA,EAAA,EAAA,GAAA,EAA5B,IAA4B,CAA5B;AACD;AACF;;AAED,SAAA,WAAA;AACD;;AAED,WAAM,IAAN;AAAA;AAAA;AAAA;;AASE,kBAAyC;AAAA;;AAAA,QAA5B,OAA4B,uEAAzC,EAAyC;;AAAA;;AACvC;AACA,UAAA,OAAA,GAAe,OAAO,CAAP,OAAA,IAAf,IAAA;AACA,UAAA,OAAA,GAAe,MAAM,CAAN,MAAA,CAAc;AAAE,MAAA,EAAA,EAAA;AAAF,KAAd,EAAsB,OAAO,CAA5C,OAAe,CAAf;AACA,UAAA,UAAA,GAAkB,OAAO,CAAzB,CAAA;AAJuC;AAKxC;;AAdH;AAAA;AAAA,sBAgBU,GAhBV,EAgByC;AAAA,wCAA/B,MAA+B;AAA/B,QAAA,MAA+B;AAAA;;AACrC,UAAI,CAAC,GAAG,CAAH,UAAA,CAAL,WAAK,CAAL,EAAkC,OAAO,KAAA,OAAA,CAAA,GAAA,EAAP,MAAO,CAAP;AAElC,UAAI,KAAJ,UAAA,EAAqB,OAAO,KAAA,UAAA,cAAA,GAAA,SAAP,MAAO,EAAP;AAErB,UAAM,WAAW,GAAG,cAAc,CAAC,KAAA,OAAA,CAAa,KAAd,OAAC,CAAD,EAAlC,GAAkC,CAAlC;AAEA,aAAO,KAAA,OAAA,CAAA,WAAA,EAAP,MAAO,CAAP;AACD;AAxBH;AAAA;AAAA,4BA0BiB,GA1BjB,EA0BiB,MA1BjB,EA0B6C;AACzC,aAAO,GAAG,CAAH,OAAA,CAAA,YAAA,EAA0B,UAAA,KAAA,EAAA,KAAA,EAAiC;AAChE;AACA,eAAO,MAAM,CAAC,MAAM,CAAC,CAArB,KAAoB,CAAP,CAAb;AAFF,OAAO,CAAP;AAID;AA/BH;;AAAA;AAAA,EAAM,OAAN;AACS,IAAA,CAAA,QAAA,GAAA,MAAA","sourcesContent":["// Extensions\nimport { Service } from '../service'\n\n// Language\nimport en from '../../locale/en'\n\n// Utilities\nimport { getObjectValueByPath } from '../../util/helpers'\nimport { consoleError, consoleWarn } from '../../util/console'\n\n// Types\nimport {\n  VuetifyLocale,\n  Lang as ILang,\n} from 'vuetify/types/services/lang'\n\nconst LANG_PREFIX = '$vuetify.'\nconst fallback = Symbol('Lang fallback')\n\nfunction getTranslation (\n  locale: VuetifyLocale,\n  key: string,\n  usingFallback = false\n): string {\n  const shortKey = key.replace(LANG_PREFIX, '')\n  let translation = getObjectValueByPath(locale, shortKey, fallback) as string | typeof fallback\n\n  if (translation === fallback) {\n    if (usingFallback) {\n      consoleError(`Translation key \"${shortKey}\" not found in fallback`)\n      translation = key\n    } else {\n      consoleWarn(`Translation key \"${shortKey}\" not found, falling back to default`)\n      translation = getTranslation(en, key, true)\n    }\n  }\n\n  return translation\n}\n\nexport class Lang extends Service implements ILang {\n  static property = 'lang'\n\n  public locales: Record<string, VuetifyLocale>\n\n  public current: string\n\n  private translator: ((key: string, ...params: any[]) => string) | undefined\n\n  constructor (options: Partial<ILang> = {}) {\n    super()\n    this.current = options.current || 'en'\n    this.locales = Object.assign({ en }, options.locales)\n    this.translator = options.t\n  }\n\n  public t (key: string, ...params: any[]) {\n    if (!key.startsWith(LANG_PREFIX)) return this.replace(key, params)\n\n    if (this.translator) return this.translator(key, ...params)\n\n    const translation = getTranslation(this.locales[this.current], key)\n\n    return this.replace(translation, params)\n  }\n\n  private replace (str: string, params: any[]) {\n    return str.replace(/\\{(\\d+)\\}/g, (match: string, index: string) => {\n      /* istanbul ignore next */\n      return String(params[+index])\n    })\n  }\n}\n"],"sourceRoot":""}]}